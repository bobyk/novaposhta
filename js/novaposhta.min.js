!function(n){function t(t,o){var o=n(t).attr("rel");o>0&&(t.find('option[value="'+o+'"]').attr("selected",!0),t.change())}function o(t,o){"function"==typeof n.fn.novaposhta.options.onStart&&n.fn.novaposhta.options.onStart(t),n.getJSON(e(t)).fail(function(n,t,o){var e=t+", "+o;console.log("Request Failed: "+e)}).done(function(e){"function"==typeof n.fn.novaposhta.options.onComplete&&n.fn.novaposhta.options.onComplete(e,t),o(e,t)})}function e(n){var t="http://np.artefact.in.ua/";t+=n.lang+"/";var o="region";return n.type&&(o=i(n.type)),t+=o+"/",n.id&&(t+=n.id+"/"),t.replace(/\/$/i,"")+"?jsoncallback=?"}function a(t,o){p(t);for(var e in o)n(t).append(n('<option value="'+o[e].id+'">'+o[e].title+"</option>"))}function i(n){switch(n){case"region":n="city";break;case"city":n="department";break;case"department":n=null}return n}function r(n){n=i(n);var t=f(n);null!=t&&(p(t),r(n))}function p(n){n.find("option").not('[value=""]').remove()}function f(t){return null!==t?n("select.np-"+t):null}n.fn.novaposhta=function(e,p){n.fn.novaposhta.options=n.extend({},n.fn.novaposhta.options,p);var c=n(this).first();return o({lang:e,type:""},function(n){a(c,n),t(c)}),this.each(function(){n(this).on("change",function(){if(n(this).removeAttr("rel"),"department"!=n(this).attr("name")){var p={lang:e,type:n(this).attr("name"),id:n(this).val()};p.id>0?o(p,function(n){r(p.type);var o=f(i(p.type));null!==o&&(a(o,n),t(o))}):r(p.type)}})})},n.fn.novaposhta.options={onStart:function(){},onComplete:function(){}}}(jQuery);